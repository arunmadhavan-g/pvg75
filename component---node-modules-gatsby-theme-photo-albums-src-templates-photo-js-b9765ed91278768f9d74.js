/*! For license information please see component---node-modules-gatsby-theme-photo-albums-src-templates-photo-js-b9765ed91278768f9d74.js.LICENSE.txt */
(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{"1Tfk":function(t,e,n){var i=n("Wnyi"),o=n("+BlB"),a=n("ri17"),r=n("lCAL"),s=i((function(t,e){return o(t)?function(){return t.apply(this,arguments)&&e.apply(this,arguments)}:r(a)(t,e)}));t.exports=s},"8qaq":function(t,e,n){var i=n("Wnyi"),o=n("Vj6a"),a=n("rJtk"),r=function(){function t(t,e){this.xf=e,this.f=t,this.found=!1}return t.prototype["@@transducer/init"]=a.init,t.prototype["@@transducer/result"]=function(t){return this.found||(t=this.xf["@@transducer/step"](t,void 0)),this.xf["@@transducer/result"](t)},t.prototype["@@transducer/step"]=function(t,e){return this.f(e)&&(this.found=!0,t=o(this.xf["@@transducer/step"](t,e))),t},t}(),s=i((function(t,e){return new r(t,e)}));t.exports=s},HUdC:function(t,e,n){"use strict";n.r(e);var i=n("wx14"),o=n("1Tfk"),a=n.n(o),r=n("SaX8"),s=n.n(r),l=n("Ymwu"),c=n.n(l),u=n("Z+xY"),p=n.n(u),d=n("xVxh"),h=n.n(d),f=n("q1tI"),m=n.n(f),v=n("Wbzz"),P=n("9eSz"),g=n.n(P),w=n("4CFu"),y=n("2A+t"),b=n("qKvR"),S=function(t){var e=t.children,n=t.height;return Object(y.c)("div",{sx:{variant:"photoPage",height:n}},e)},T=n("lshx"),C=n("tEoB");function Y(t){var e=Object(f.useState)(!1),n=e[0],i=e[1];return Object(f.useEffect)((function(){var e=function(e){e.key===t&&i(!0)};return window.addEventListener("keyup",e),function(){window.removeEventListener("keyup",e)}}),[t]),n}function x(){return(x=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t}).apply(this,arguments)}var X={preventDefaultTouchmoveEvent:!1,delta:10,rotationAngle:0,trackMouse:!1,trackTouch:!0},O={xy:[0,0],swiping:!1,eventData:void 0,start:void 0};function W(t,e){if(0===e)return t;var n=Math.PI/180*e;return[t[0]*Math.cos(n)+t[1]*Math.sin(n),t[1]*Math.cos(n)-t[0]*Math.sin(n)]}function k(t,e){var n=function(e){e.touches&&e.touches.length>1||t((function(t,n){n.trackMouse&&(document.addEventListener("mousemove",i),document.addEventListener("mouseup",r));var o=e.touches?e.touches[0]:e,a=W([o.clientX,o.clientY],n.rotationAngle);return x({},t,O,{eventData:{initial:[].concat(a),first:!0},xy:a,start:e.timeStamp||0})}))},i=function(e){t((function(t,n){if(!t.xy[0]||!t.xy[1]||e.touches&&e.touches.length>1)return t;var i=e.touches?e.touches[0]:e,o=W([i.clientX,i.clientY],n.rotationAngle),a=o[0],r=o[1],s=t.xy[0]-a,l=t.xy[1]-r,c=Math.abs(s),u=Math.abs(l),p=(e.timeStamp||0)-t.start,d=Math.sqrt(c*c+u*u)/(p||1);if(c<n.delta&&u<n.delta&&!t.swiping)return t;var h=function(t,e,n,i){return t>e?n>0?"Left":"Right":i>0?"Up":"Down"}(c,u,s,l),f=x({},t.eventData,{event:e,absX:c,absY:u,deltaX:s,deltaY:l,velocity:d,dir:h});n.onSwiping&&n.onSwiping(f);var m=!1;return(n.onSwiping||n.onSwiped||n["onSwiped"+h])&&(m=!0),m&&n.preventDefaultTouchmoveEvent&&n.trackTouch&&e.cancelable&&e.preventDefault(),x({},t,{eventData:x({},f,{first:!1}),swiping:!0})}))},o=function(e){t((function(t,n){var i;return t.swiping&&(i=x({},t.eventData,{event:e}),n.onSwiped&&n.onSwiped(i),n["onSwiped"+i.dir]&&n["onSwiped"+i.dir](i)),x({},t,O,{eventData:i})}))},a=function(){document.removeEventListener("mousemove",i),document.removeEventListener("mouseup",r)},r=function(t){a(),o(t)},s=function(t){if(t&&t.addEventListener){var e=[["touchstart",n],["touchmove",i],["touchend",o]];return e.forEach((function(e){var n=e[0],i=e[1];return t.addEventListener(n,i)})),function(){return e.forEach((function(e){var n=e[0],i=e[1];return t.removeEventListener(n,i)}))}}},l={ref:function(e){null!==e&&t((function(t,n){if(t.el===e)return t;var i={};return t.el&&t.el!==e&&t.cleanUpTouch&&(t.cleanUpTouch(),i.cleanUpTouch=null),n.trackTouch&&e&&(i.cleanUpTouch=s(e)),x({},t,{el:e},i)}))}};return e.trackMouse&&(l.onMouseDown=n),[l,s]}function E(t,e,n){var i={};return!e.trackTouch&&t.cleanUpTouch?(t.cleanUpTouch(),i.cleanUpTouch=null):e.trackTouch&&!t.cleanUpTouch&&t.el&&(i.cleanUpTouch=n(t.el)),x({},t,i)}function D(t,e,n){return function(t){var e=t.trackMouse,n=m.a.useRef(x({},O,{type:"hook"})),i=m.a.useRef();i.current=x({},X,t);var o=m.a.useMemo((function(){return k((function(t){return n.current=t(n.current,i.current)}),{trackMouse:e})}),[e]),a=o[0],r=o[1];return n.current=E(n.current,i.current,r),a}({onSwipedLeft:function(){t&&Object(v.navigate)(t)},onSwipedRight:function(){e&&Object(v.navigate)(e)},onSwipedUp:function(){n&&Object(v.navigate)(n)},onSwipedDown:function(){n&&Object(v.navigate)(n)},trackMouse:!0})}(function(t){var e,n;function i(e){var n;return(n=t.call(this,e)||this)._set=function(t){n.transientState=t(n.transientState,n.props)},n.transientState=x({},O,{type:"class"}),n}return n=t,(e=i).prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n,i.prototype.render=function(){var t=this.props,e=t.className,n=t.style,i=t.nodeName,o=void 0===i?"div":i,a=t.innerRef,r=t.children,s=t.trackMouse,l=k(this._set,{trackMouse:s}),c=l[0],u=l[1];this.transientState=E(this.transientState,this.props,u);var p=a?function(t){return a(t),c.ref(t)}:c.ref;return m.a.createElement(o,x({},c,{className:e,style:n,ref:p}),r)},i}(m.a.PureComponent)).defaultProps=X;var M=function(t,e){return(M=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function j(t,e){function n(){this.constructor=t}M(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var N=function(){return(N=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)};var A={wrapperComponent:null,contentComponent:null,previousScale:1,scale:1,positionX:0,positionY:0,options:{disabled:!1,transformEnabled:!0,minPositionX:null,maxPositionX:null,minPositionY:null,maxPositionY:null,minScale:1,maxScale:8,limitToBounds:!0,limitToWrapper:!1,centerContent:!0,wrapperClass:"",contentClass:""},wheel:{disabled:!1,step:5,wheelEnabled:!0,touchPadEnabled:!0,limitsOnWheel:!1},pan:{disabled:!1,panAnimationType:"linear",lockAxisX:!1,lockAxisY:!1,velocity:!0,velocityEqualToMove:!0,velocitySensitivity:2,velocityActiveScale:1,velocityMinSpeed:1,velocityBaseTime:1600,velocityAnimationType:"easeOutQuart",padding:!0,paddingSize:30,panReturnAnimationTime:400,panReturnAnimationType:"easeOut",disableOnTarget:[]},pinch:{disabled:!1},zoomIn:{disabled:!1,step:20,animation:!0,animationType:"easeOut",animationTime:200},zoomOut:{disabled:!1,step:20,animation:!0,animationType:"easeOut",animationTime:200},doubleClick:{disabled:!1,step:20,mode:"zoomIn",animation:!0,animationType:"easeOut",animationTime:200},reset:{disabled:!1,animation:!0,animationType:"easeOut",animationTime:200},scalePadding:{disabled:!1,size:.2,animationTime:200,animationType:"easeOut"}},L=function(t,e){return Number(t.toFixed(e))},z=function(t,e){return"number"==typeof t?t:e},U=function(t,e,n,i){return L(i?t<e?e:t>n?n:t:t,2)},_=function(t,e){return Math.sqrt(Math.pow(t.pageX-e.pageX,2)+Math.pow(t.pageY-e.pageY,2))},I=function(t){var e=N({},t);return Object.keys(e).forEach((function(t){return void 0===e[t]&&delete e[t]})),e},H=function(t,e){t&&"function"==typeof t&&t(e)},R=function(t,e,n){var i=n.scale,o=n.options,a=o.maxScale,r=o.minScale;return!!t&&(i<a||i>r||(Math.sign(t.deltaY)!==Math.sign(e.deltaY)||(t.deltaY>0&&t.deltaY<e.deltaY||(t.deltaY<0&&t.deltaY>e.deltaY||Math.sign(t.deltaY)!==Math.sign(e.deltaY)))))},B=function(t,e){return Object.keys(t).reduce((function(n,i){return"object"==typeof e[i]&&null!==e[i]?n[i]=N(N({},t[i]),e[i]):n[i]=void 0===e[i]?t[i]:e[i],n}),{})};var q={easeOut:function(t){return-Math.cos(t*Math.PI)/2+.5},linear:function(t){return t},easeInQuad:function(t){return t*t},easeOutQuad:function(t){return t*(2-t)},easeInOutQuad:function(t){return t<.5?2*t*t:(4-2*t)*t-1},easeInCubic:function(t){return t*t*t},easeOutCubic:function(t){return--t*t*t+1},easeInOutCubic:function(t){return t<.5?4*t*t*t:(t-1)*(2*t-2)*(2*t-2)+1},easeInQuart:function(t){return t*t*t*t},easeOutQuart:function(t){return 1- --t*t*t*t},easeInOutQuart:function(t){return t<.5?8*t*t*t*t:1-8*--t*t*t*t},easeInQuint:function(t){return t*t*t*t*t},easeOutQuint:function(t){return 1+--t*t*t*t*t},easeInOutQuint:function(t){return t<.5?16*t*t*t*t*t:1+16*--t*t*t*t*t}};function V(){this.mounted&&(this.animation&&cancelAnimationFrame(this.animation),this.animate=!1,this.animation=!1,this.velocity=!1)}function Z(t,e,n){var i=this;if(this.mounted){var o=(new Date).getTime();V.call(this),this.animation=function(){if(i.animation&&i.mounted){var a=(new Date).getTime()-o,r=(0,q[t])(a/e);a>=e?(n(1),i.animation=null):(n(r),requestAnimationFrame(i.animation))}},requestAnimationFrame(this.animation)}}function Q(t){var e=this,n=t.targetState,i=t.speed,o=t.type,a=this.stateProvider,r=a.scale,s=a.positionX,l=a.positionY,c=n.scale-r,u=n.positionX-s,p=n.positionY-l;0===i?(this.stateProvider.previousScale=this.stateProvider.scale,this.stateProvider.scale=n.scale,this.stateProvider.positionX=n.positionX,this.stateProvider.positionY=n.positionY,this.applyTransformation()):Z.call(this,o,i,(function(t){e.stateProvider.previousScale=e.stateProvider.scale,e.stateProvider.scale=r+c*t,e.stateProvider.positionX=s+u*t,e.stateProvider.positionY=l+p*t,e.applyTransformation()}))}function F(t,e,n,i,o){var a=e-(o?i:0);return!isNaN(n)&&t>=n?n:!isNaN(e)&&t<=a?a:t}function K(t,e,n,i,o,a){var r=n.minPositionX,s=n.minPositionY,l=n.maxPositionX,c=n.maxPositionY,u=a?o*a.offsetWidth/100:0,p=a?o*a.offsetHeight/100:0;return{x:U(t,r-u,l+u,i),y:U(e,s-p,c+p,i)}}function J(t,e,n){var i=e.getBoundingClientRect(),o=(t.clientX-i.left)/n,a=(t.clientY-i.top)/n;return(isNaN(o)||isNaN(a))&&console.error("No mouse or touch offset found"),{mouseX:o,mouseY:a}}function G(t,e,n,i,o){var a=this.stateProvider,r=a.scale,s=a.positionX,l=a.positionY,c=a.options.transformEnabled,u=n-r;return"number"!=typeof t||"number"!=typeof e?console.error("Mouse X and Y position were not provided!"):c?K(s-t*u,l-e*u,i,o,0,null):{newPositionX:s,newPositionY:l}}function $(t){var e=t.touches;return e&&1===e.length?{clientX:e[0].clientX,clientY:e[0].clientY}:e?null:{clientX:t.clientX,clientY:t.clientY}}function tt(t){var e=this.stateProvider,n=e.scale,i=e.positionX,o=e.positionY,a=e.options,r=a.limitToBounds,s=a.minScale,l=e.pan,c=l.lockAxisX,u=l.lockAxisY,p=l.padding,d=l.paddingSize,h=e.wrapperComponent;if(this.startCoords){var f=this.startCoords,m=f.x,v=f.y,P=$(t);if(!P)return console.error("Cannot find mouse client positions");var g=P.clientX,w=P.clientY,y=c?i:g-m,b=u?o:w-v,S=p&&n>=s?d:0;if(y!==i||b!==o){var T=K(y,b,this.bounds,r,S,h);it.call(this,T.x,T.y)}}}function et(){var t=this.stateProvider,e=t.scale,n=t.options.minScale,i=t.pan,o=i.disabled,a=i.padding,r=i.panReturnAnimationTime,s=i.panReturnAnimationType;if(!(o||e<n||!a)){var l=nt.call(this);Q.call(this,{targetState:l,speed:r,type:s})}}function nt(){var t=this.stateProvider,e=t.positionX,n=t.positionY,i=t.scale,o=t.options,a=o.disabled,r=o.limitToBounds,s=o.limitToWrapper,l=this.state.wrapperComponent;if(!a){var c=this.bounds,u=c.maxPositionX,p=c.minPositionX,d=c.maxPositionY,h=c.minPositionY,f=e>u||e<p,m=n>d||n<h,v=e>u?l.offsetWidth:this.stateProvider.minPositionX||0,P=n>d?l.offsetHeight:this.stateProvider.minPositionY||0,g=G.call(this,v,P,i,this.bounds,r||s),w=g.x,y=g.y;return{scale:i,positionX:f?w:e,positionY:m?y:n}}}function it(t,e){this.stateProvider.pan.padding&&(this.stateProvider.positionX=t,this.stateProvider.positionY=e,this.applyTransformation())}function ot(t,e,n,i,o){var a=this.stateProvider,r=a.scale,s=a.options,l=s.maxScale,c=s.minScale,u=a.scalePadding,p=u.size,d=u.disabled,h=a.wrapperComponent,f=null;if(o){f=r+(e-e*(1e-4*window.innerWidth))*t*(r/(t<0?30:20))}else{var m=2-window.innerWidth/h.offsetWidth;f=r+e*t*((r-r*Math.max(.2,Math.min(.99,m)))/20)}if(i)return f;var v=!n&&!d;return F(L(f,3),c,l,p,v)}function at(t,e){var n=this.stateProvider,i=function(t,e,n){var i=t.offsetWidth,o=t.offsetHeight,a=e.offsetWidth*n,r=e.offsetHeight*n;return{wrapperWidth:i,wrapperHeight:o,newContentWidth:a,newDiffWidth:i-a,newContentHeight:r,newDiffHeight:o-r}}(n.wrapperComponent,n.contentComponent,t),o=i.wrapperWidth,a=i.wrapperHeight,r=function(t,e,n,i,o,a,r){var s=t>e?n*(r?1:.5):0,l=i>o?a*(r?1:.5):0;return{minPositionX:t-e-s,maxPositionX:s,minPositionY:i-o-l,maxPositionY:l}}(o,i.newContentWidth,i.newDiffWidth,a,i.newContentHeight,i.newDiffHeight,e);return this.bounds=r,r}function rt(t){var e=this.stateProvider,n=e.scale,i=e.contentComponent,o=e.options.limitToBounds,a=e.scalePadding,r=a.size,s=a.disabled,l=e.wheel,c=l.step,u=l.limitsOnWheel;t.preventDefault(),t.stopPropagation();var p=function(t,e){var n=t?t.deltaY<0?1:-1:0;return z(e,n)}(t,null),d=ot.call(this,p,c,!t.ctrlKey);if(n!==d){var h=at.call(this,d,!u),f=J(t,i,n),m=f.mouseX,v=f.mouseY,P=o&&(s||0===r||u),g=G.call(this,m,v,d,h,P),w=g.x,y=g.y;this.bounds=h,this.stateProvider.previousScale=n,this.stateProvider.scale=d,this.stateProvider.positionX=w,this.stateProvider.positionY=y,this.applyTransformation()}}function st(t,e,n,i,o){var a=this.stateProvider,r=a.contentComponent,s=a.options,l=s.disabled,c=s.minScale,u=s.maxScale,p=s.limitToBounds,d=s.limitToWrapper;if(!l&&!t){var h=F(L(e,2),c,u,null,null),f=at.call(this,h,d),m=n,v=i;if(o){var P=J(o,r,e);m=P.mouseX,v=P.mouseY}var g=G.call(this,m,v,h,f,p);return{scale:h,positionX:g.x,positionY:g.y}}}function lt(){var t=this.stateProvider,e=t.scale,n=t.wrapperComponent,i=t.options,o=i.minScale,a=i.limitToBounds,r=t.scalePadding,s=r.disabled,l=r.animationTime,c=r.animationType,u=s||e>=o;if((e>=1||a)&&et.call(this),!u){var p=n.offsetWidth/2,d=n.offsetHeight/2,h=st.call(this,!1,o,p,d,null);Q.call(this,{targetState:h,speed:l,type:c})}}function ct(t){t.preventDefault(),t.stopPropagation();var e=this.stateProvider,n=e.contentComponent,i=e.scale,o=e.doubleClick,a=o.disabled,r=o.mode,s=o.step,l=o.animationTime,c=o.animationType;if("reset"===r)return pt.call(this,t,l);var u="zoomOut"===r?-1:1,p=ot.call(this,u,s,void 0,void 0,!0),d=J(t,n,i),h=d.mouseX,f=d.mouseY,m=st.call(this,a,p,h,f);if(m.scale!==i){var v=dt(ot.call(this,u,s,!0,void 0,!0),p,l);Q.call(this,{targetState:m,speed:v,type:c})}}function ut(t,e){var n=this.stateProvider,i=n.scale,o=n.positionX,a=n.positionY,r=n.wrapperComponent,s=n.zoomIn,l=n.zoomOut,c=(r.offsetWidth/2-o)/i,u=(r.offsetHeight/2-a)/i,p=ot.call(this,t,e,void 0,void 0,!0),d=p>i,h=d?s.animationTime:l.animationTime,f=d?s.animationType:l.animationType,m=d?s.disabled:l.disabled,v=st.call(this,m,p,c,u);if(v.scale!==i){var P=dt(ot.call(this,t,e,!0,void 0,!0),p,h);Q.call(this,{targetState:v,speed:P,type:f})}}function pt(t){var e=this.props.defaultValues,n=e.defaultScale,i=e.defaultPositionX,o=e.defaultPositionY,a=this.stateProvider,r=a.scale,s=a.positionX,l=a.positionY,c=a.reset,u=a.options,p=u.disabled,d=u.limitToBounds,h=u.centerContent,f=u.limitToWrapper;if(!(p||c.disabled||r===n&&s===i&&l===o)){var m="number"==typeof t?t:c.animationTime,v=z(n,A.scale),P=z(i,A.positionX),g=z(o,A.positionY);if(d&&!f||h){var w=at.call(this,v,f);P=w.minPositionX,g=w.minPositionY}var y={scale:v,positionX:P,positionY:g};Q.call(this,{targetState:y,speed:m,type:c.animationType})}}function dt(t,e,n){return n*(e/t)}function ht(t,e){var n=Math.pow(10,e);return Math.round(t*n)/n}function ft(t){return t===1/0||t===-1/0}function mt(t,e){var n=this.stateProvider,i=n.options,o=i.minScale,a=i.maxScale,r=n.scalePadding,s=r.size,l=r.disabled;if("number"!=typeof e||"number"!=typeof t)return console.error("Pinch touches distance was not provided");if(!(t<0)){var c=t/e*this.pinchStartScale;return F(L(c,2),o,a,s,!l)}}function vt(t){var e=this.stateProvider,n=e.scale,i=e.options,o=i.limitToBounds,a=i.limitToWrapper,r=e.scalePadding,s=r.disabled,l=r.size,c=e.wheel.limitsOnWheel,u=e.pinch,p=this.state.contentComponent;if(!u.disabled&&!this.stateProvider.options.disabled&&(t.cancelable&&(t.preventDefault(),t.stopPropagation()),null!==this.pinchStartDistance)){var d=function(t,e,n){var i=n.getBoundingClientRect(),o=t.touches,a=ht(o[0].clientX-i.left,5),r=ht(o[0].clientY-i.top,5);return{mouseX:(a+ht(o[1].clientX-i.left,5))/2/e,mouseY:(r+ht(o[1].clientY-i.top,5))/2/e}}(t,n,p),h=d.mouseX,f=d.mouseY;if(!ft(h)&&!ft(f)){var m=function(t){return _(t.touches[0],t.touches[1])}(t),v=mt.call(this,m,this.pinchStartDistance);if(!ft(v)&&v!==n){var P=at.call(this,v,a),g=o&&(s||0===l||c),w=G.call(this,h,f,v,P,g),y=w.x,b=w.y;this.lastDistance=m,this.stateProvider.positionX=y,this.stateProvider.positionY=b,this.stateProvider.scale=v,this.stateProvider.previousScale=n,this.applyTransformation()}}}}function Pt(t,e){return this.stateProvider.pan.velocityEqualToMove?e-e/Math.max(1,t):e}function gt(){this.setState({startAnimation:!1})}function wt(){this.setState({startAnimation:!0})}function yt(){var t=this,e=this.stateProvider,n=e.positionX,i=e.positionY,o=e.options.limitToBounds,a=e.pan,r=a.velocityBaseTime,s=a.lockAxisX,l=a.lockAxisY,c=a.velocityAnimationType,u=a.panReturnAnimationTime,p=a.panReturnAnimationType,d=a.padding,h=a.paddingSize,f=e.wrapperComponent;if(this.mounted){if(!this.velocity||!this.bounds)return V.call(this);var m=this.bounds,v=m.maxPositionX,P=m.minPositionX,g=m.maxPositionY,w=m.minPositionY,y=this.velocity,b=y.velocityX,S=y.velocityY,T=y.velocity,C=Pt.call(this,T,r);if(C){var Y=b,x=S,X=C>u?C:u,O=d?h:0,W=f?O*f.offsetWidth/100:0,k=f?O*f.offsetHeight/100:0,E=v+W,D=P-W,M=g+k,j=w-k,N=K(n,i,this.bounds,o,O,f),A=(new Date).getTime();Z.call(this,c,X,(function(e){var a=(new Date).getTime()-A,r=(0,q[p])(a/u);(a>u||r>1||r===1/0||r===-1/0)&&(r=1);var c=St(s,Y,e,r,P,v,o,n,N.x,D,E),d=St(l,x,e,r,w,g,o,i,N.y,j,M);n===c&&i===d||(t.stateProvider.positionX=c,t.stateProvider.positionY=d,t.applyTransformation())}))}else et.call(this)}}function bt(t){var e=this,n=this.stateProvider,i=n.scale,o=n.options.disabled,a=n.pan,r=a.velocity,s=a.velocitySensitivity,l=a.velocityActiveScale,c=a.velocityMinSpeed,u=n.wrapperComponent;if(!(!r||l>=i||o)){gt.call(this);var p=Date.now();if(this.lastMousePosition){var d=$(t);if(!d)return console.error("No mouse or touch position detected");var h=d.clientX,f=d.clientY,m=h-this.lastMousePosition.clientX,v=f-this.lastMousePosition.clientY,P=p-this.velocityTime,g=2-u.offsetWidth/window.innerWidth,w=2-u.offsetHeight/window.innerHeight,y=m/P*s*i*(20*Math.max(c,Math.min(2,g))),b=v/P*s*i*(20*Math.max(c,Math.min(2,w))),S=m*m+v*v,T=Math.sqrt(S)/P*s;if(this.velocity&&T<this.velocity.velocity&&this.throttle)return;this.velocity={velocityX:y,velocityY:b,velocity:T},this.throttle&&clearTimeout(this.throttle),this.throttle=setTimeout((function(){e.mounted&&(e.throttle=!1)}),30)}var C=$(t);this.lastMousePosition=C,this.velocityTime=p}}function St(t,e,n,i,o,a,r,s,l,c,u){if(r){var p;if(l>o&&s>a)return(p=l-(l-a)*i)>u?u:p<a?a:p;if(l<o&&s<o)return(p=l-(l-o)*i)<c?c:p>o?o:p}return t?l:U(s+e*n,o,a,r)}var Tt=["previousScale","scale","positionX","positionY","defaultPositionX","defaultPositionY","defaultScale","onWheelStart","onWheel","onWheelStop","onPanningStart","onPanning","onPanningStop","onPinchingStart","onPinching","onPinchingStop","onZoomChange","options","wheel","scalePadding","pan","pinch","zoomIn","zoomOut","doubleClick","reset"],Ct=function(t){return Object.keys(t).reduce((function(e,n){return Tt.includes(n)&&(e[n]=t[n]),e}),{})},Yt=m.a.createContext({}),xt=null,Xt=null,Ot=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.mounted=!0,e.state={wrapperComponent:void 0,contentComponent:void 0},e.stateProvider=N(N(N(N({},A),B(A,e.props.dynamicValues)),e.props.defaultValues),{previousScale:e.props.dynamicValues.scale||e.props.defaultValues.scale||A.scale}),e.windowToWrapperScaleX=0,e.windowToWrapperScaleY=0,e.startCoords=null,e.isDown=!1,e.pinchStartDistance=null,e.lastDistance=null,e.pinchStartScale=null,e.distance=null,e.bounds=null,e.velocityTime=null,e.lastMousePosition=null,e.velocity=null,e.offsetX=null,e.offsetY=null,e.throttle=!1,e.previousWheelEvent=null,e.lastScale=null,e.animate=null,e.animation=null,e.maxBounds=null,e.handleWheel=function(t){var n=e.stateProvider,i=n.scale,o=n.wheel,a=o.disabled,r=o.wheelEnabled,s=o.touchPadEnabled,l=e.props,c=l.onWheelStart,u=l.onWheel,p=l.onWheelStop,d=e.state,h=d.wrapperComponent,f=d.contentComponent;e.isDown||a||e.stateProvider.options.disabled||!h||!f||(r||t.ctrlKey)&&(!s&&t.ctrlKey||(xt||(e.lastScale=i,V.call(e),H(c,e.getCallbackProps())),rt.call(e,t),H(u,e.getCallbackProps()),e.applyTransformation(null,null,null),e.previousWheelEvent=t,R(e.previousWheelEvent,t,e.stateProvider)&&(clearTimeout(xt),xt=setTimeout((function(){e.mounted&&(H(p,e.getCallbackProps()),xt=null)}),180)),e.animate=!1,e.lastScale=e.stateProvider.scale,clearTimeout(Xt),Xt=setTimeout((function(){e.mounted&&lt.call(e,t)}),100)))},e.checkPanningTarget=function(t){var n=e.stateProvider.pan.disableOnTarget;return n.map((function(t){return t.toUpperCase()})).includes(t.target.tagName)||n.find((function(e){return t.target.classList.value.includes(e)}))},e.checkIsPanningActive=function(t){var n=e.stateProvider.pan.disabled,i=e.state,o=i.wrapperComponent,a=i.contentComponent;return!e.isDown||n||e.stateProvider.options.disabled||t.touches&&(1!==t.touches.length||Math.abs(e.startCoords.x-t.touches[0].clientX)<1||Math.abs(e.startCoords.y-t.touches[0].clientY)<1)||!o||!a},e.handleSetUpPanning=function(t,n){var i=e.stateProvider,o=i.positionX,a=i.positionY;e.isDown=!0,e.startCoords={x:t-o,y:n-a},H(e.props.onPanningStart,e.getCallbackProps())},e.handleStartPanning=function(t){var n=e.stateProvider,i=n.wrapperComponent,o=n.scale,a=n.options,r=a.minScale,s=a.maxScale,l=a.limitToWrapper,c=n.pan.disabled,u=t.target,p=t.touches;c||e.stateProvider.options.disabled||i&&!i.contains(u)||e.checkPanningTarget(t)||o<r||o>s||(V.call(e),e.bounds=at.call(e,o,l),p&&1===p.length&&e.handleSetUpPanning(p[0].clientX,p[0].clientY),p||e.handleSetUpPanning(t.clientX,t.clientY))},e.handlePanning=function(t){e.isDown&&t.preventDefault(),e.checkIsPanningActive(t)||(t.stopPropagation(),bt.call(e,t),tt.call(e,t),H(e.props.onPanning,e.getCallbackProps()))},e.handleStopPanning=function(){if(e.isDown){e.isDown=!1,e.animate=!1,e.animation=!1,wt.call(e),H(e.props.onPanningStop,e.getCallbackProps());var t=e.stateProvider,n=t.pan.velocity,i=t.scale;e.velocity&&n&&i>1?yt.call(e):et.call(e)}},e.handlePinchStart=function(t){var n=e.stateProvider.scale;t.preventDefault(),t.stopPropagation(),V.call(e);var i=_(t.touches[0],t.touches[1]);e.pinchStartDistance=i,e.lastDistance=i,e.pinchStartScale=n,e.isDown=!1,H(e.props.onPinchingStart,e.getCallbackProps())},e.handlePinch=function(t){e.isDown=!1,vt.call(e,t),H(e.props.onPinching,e.getCallbackProps())},e.handlePinchStop=function(){"number"==typeof e.pinchStartScale&&(e.isDown=!1,e.velocity=null,e.lastDistance=null,e.pinchStartScale=null,e.pinchStartDistance=null,lt.call(e),H(e.props.onPinchingStop,e.getCallbackProps()))},e.handleTouchStart=function(t){var n=e.stateProvider,i=n.wrapperComponent,o=n.contentComponent,a=n.scale,r=n.options,s=r.disabled,l=r.minScale,c=t.touches;if(!s&&i&&o&&!(a<l))return V.call(e),c&&1===c.length?e.handleStartPanning(t):c&&2===c.length?e.handlePinchStart(t):void 0},e.handleTouch=function(t){var n=e.stateProvider,i=n.pan,o=n.pinch;if(!n.options.disabled)return i.disabled||1!==t.touches.length?o.disabled||2!==t.touches.length?void 0:e.handlePinch(t):e.handlePanning(t)},e.handleTouchStop=function(){e.handleStopPanning(),e.handlePinchStop()},e.zoomIn=function(t){var n=e.stateProvider,i=n.zoomIn,o=i.disabled,a=i.step,r=n.options,s=e.state,l=s.wrapperComponent,c=s.contentComponent;if(!t)throw Error("Zoom in function requires event prop");!o&&!r.disabled&&l&&c&&ut.call(e,1,a)},e.zoomOut=function(t){var n=e.stateProvider,i=n.zoomOut,o=i.disabled,a=i.step,r=n.options,s=e.state,l=s.wrapperComponent,c=s.contentComponent;if(!t)throw Error("Zoom out function requires event prop");!o&&!r.disabled&&l&&c&&ut.call(e,-1,a)},e.handleDbClick=function(t){var n=e.stateProvider,i=n.options,o=n.doubleClick,a=o.disabled,r=o.step,s=e.state,l=s.wrapperComponent,c=s.contentComponent;if(!t)throw Error("Double click function requires event prop");!a&&!i.disabled&&l&&c&&ct.call(e,t,1,r)},e.setScale=function(t,n,i){void 0===n&&(n=200),void 0===i&&(i="easeOut");var o=e.stateProvider,a=o.positionX,r=o.positionY,s=o.scale,l=o.options.disabled,c=e.state,u=c.wrapperComponent,p=c.contentComponent;if(!l&&u&&p){var d={positionX:a,positionY:r,scale:isNaN(t)?s:t};Q.call(e,{targetState:d,speed:n,type:i})}},e.setPositionX=function(t,n,i){void 0===n&&(n=200),void 0===i&&(i="easeOut");var o=e.stateProvider,a=o.positionX,r=o.positionY,s=o.scale,l=o.options,c=l.disabled,u=l.transformEnabled,p=e.state,d=p.wrapperComponent,h=p.contentComponent;if(!c&&u&&d&&h){var f={positionX:isNaN(t)?a:t,positionY:r,scale:s};Q.call(e,{targetState:f,speed:n,type:i})}},e.setPositionY=function(t,n,i){void 0===n&&(n=200),void 0===i&&(i="easeOut");var o=e.stateProvider,a=o.positionX,r=o.scale,s=o.positionY,l=o.options,c=l.disabled,u=l.transformEnabled,p=e.state,d=p.wrapperComponent,h=p.contentComponent;if(!c&&u&&d&&h){var f={positionX:a,positionY:isNaN(t)?s:t,scale:r};Q.call(e,{targetState:f,speed:n,type:i})}},e.setTransform=function(t,n,i,o,a){void 0===o&&(o=200),void 0===a&&(a="easeOut");var r=e.stateProvider,s=r.positionX,l=r.positionY,c=r.scale,u=r.options,p=u.disabled,d=u.transformEnabled,h=e.state,f=h.wrapperComponent,m=h.contentComponent;if(!p&&d&&f&&m){var v={positionX:isNaN(t)?s:t,positionY:isNaN(n)?l:n,scale:isNaN(i)?c:i};Q.call(e,{targetState:v,speed:o,type:a})}},e.resetTransform=function(){var t=e.stateProvider.options,n=t.disabled,i=t.transformEnabled;!n&&i&&pt.call(e)},e.setDefaultState=function(){e.animation=null,e.stateProvider=N(N(N({},e.stateProvider),{scale:A.scale,positionX:A.positionX,positionY:A.positionY}),e.props.defaultValues),e.forceUpdate()},e.setWrapperComponent=function(t){e.setState({wrapperComponent:t})},e.setContentComponent=function(t){e.setState({contentComponent:t},(function(){var n=e.stateProvider,i=n.wrapperComponent,o=n.options,a=o.centerContent,r=o.limitToBounds,s=o.limitToWrapper,l=n.scale,c=e.props.defaultValues,u=c.positionX,p=c.positionY;if(r&&!s||a&&!u&&!p){var d="translate(25%, 25%) scale("+l+")";t.style.transform=d,t.style.WebkitTransform=d,e.forceUpdate();var h=(new Date).getTime(),f=setInterval((function(){if(i.offsetWidth){var t=at.call(e,l,!1);e.stateProvider.positionX=t.minPositionX,e.stateProvider.positionY=t.minPositionY,e.applyTransformation(null,null,null),clearInterval(f),f=null}else(new Date).getTime()-h>2e3&&(clearInterval(f),f=null)}),20)}else e.applyTransformation(null,null,null)}))},e.applyTransformation=function(t,n,i){if(e.mounted){var o=e.state.contentComponent,a=e.props.onZoomChange,r=e.stateProvider,s=r.previousScale,l=r.scale,c=r.positionX,u=r.positionY;if(!o)return console.error("There is no content component");var p="translate("+(n||c)+"px, "+(i||u)+"px) scale("+(t||l)+")";o.style.transform=p,o.style.WebkitTransform=p,e.forceUpdate(),a&&s!==l&&H(a,e.getCallbackProps())}},e.getCallbackProps=function(){return Ct(e.stateProvider)},e}return j(e,t),e.prototype.componentDidMount=function(){window.addEventListener("mousedown",this.handleStartPanning,!1),window.addEventListener("mousemove",this.handlePanning,!1),window.addEventListener("mouseup",this.handleStopPanning,!1)},e.prototype.componentWillUnmount=function(){window.removeEventListener("mousedown",this.handleStartPanning,!1),window.removeEventListener("mousemove",this.handlePanning,!1),window.removeEventListener("mouseup",this.handleStopPanning,!1),V.call(this)},e.prototype.componentDidUpdate=function(t,e){var n,i=this.state,o=i.wrapperComponent,a=i.contentComponent,r=this.props.dynamicValues;if(!e.contentComponent&&a&&(this.stateProvider.contentComponent=a),!e.wrapperComponent&&o&&void 0!==o){this.stateProvider.wrapperComponent=o,this.windowToWrapperScaleX=(n=o)?window.innerWidth/n.offsetWidth:0,this.windowToWrapperScaleY=function(t){return t?window.innerHeight/t.offsetHeight:0}(o);o.addEventListener("wheel",this.handleWheel,!1),o.addEventListener("dblclick",this.handleDbClick,!1),o.addEventListener("touchstart",this.handleTouchStart,!1),o.addEventListener("touchmove",this.handleTouch,!1),o.addEventListener("touchend",this.handleTouchStop,!1)}(o&&a||t.dynamicValues!==r)&&(this.maxBounds=at.call(this,this.stateProvider.scale,this.stateProvider.options.limitToWrapper)),t.dynamicValues&&t.dynamicValues!==r&&(this.animation=null,this.stateProvider=N(N({},this.stateProvider),B(this.stateProvider,r)),this.applyTransformation(null,null,null))},e.prototype.render=function(){var t=this.state,e=t.wrapperComponent,n=t.contentComponent,i={loaded:Boolean(e&&n),state:this.getCallbackProps(),dispatch:{setScale:this.setScale,setPositionX:this.setPositionX,setPositionY:this.setPositionY,zoomIn:this.zoomIn,zoomOut:this.zoomOut,setTransform:this.setTransform,resetTransform:this.resetTransform,setDefaultState:this.setDefaultState},nodes:{setWrapperComponent:this.setWrapperComponent,setContentComponent:this.setContentComponent}},o=this.props.children,a="function"==typeof o?o(N(N({},i.state),i.dispatch)):o;return m.a.createElement(Yt.Provider,{value:i},a)},e}(f.Component),Wt=function(t){var e=t.children,n=t.defaultPositionX,i=t.defaultPositionY,o=t.defaultScale,a=t.onWheelStart,r=t.onWheel,s=t.onWheelStop,l=t.onPanningStart,c=t.onPanning,u=t.onPanningStop,p=t.onPinchingStart,d=t.onPinching,h=t.onPinchingStop,f=t.onZoomChange,v=function(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(i=Object.getOwnPropertySymbols(t);o<i.length;o++)e.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(t,i[o])&&(n[i[o]]=t[i[o]])}return n}(t,["children","defaultPositionX","defaultPositionY","defaultScale","onWheelStart","onWheel","onWheelStop","onPanningStart","onPanning","onPanningStop","onPinchingStart","onPinching","onPinchingStop","onZoomChange"]),P=N({},v);return P.options&&P.options.limitToWrapper&&(P.options.limitToBounds=!0),m.a.createElement(Ot,{defaultValues:I({positionX:n,positionY:i,scale:o}),dynamicValues:I(Ct(P)),onWheelStart:a,onWheel:r,onWheelStop:s,onPanningStart:l,onPanning:c,onPanningStop:u,onPinchingStart:p,onPinching:d,onPinchingStop:h,onZoomChange:f},e)};var kt="TransformComponent-module_container__3NwNd",Et="TransformComponent-module_content__TZU5O";!function(t,e){void 0===e&&(e={});var n=e.insertAt;if(t&&"undefined"!=typeof document){var i=document.head||document.getElementsByTagName("head")[0],o=document.createElement("style");o.type="text/css","top"===n&&i.firstChild?i.insertBefore(o,i.firstChild):i.appendChild(o),o.styleSheet?o.styleSheet.cssText=t:o.appendChild(document.createTextNode(t))}}(".TransformComponent-module_container__3NwNd {\n  position: relative;\n  width: fit-content;\n  height: fit-content;\n  overflow: hidden;\n  -webkit-touch-callout: none; /* iOS Safari */\n  -webkit-user-select: none; /* Safari */\n  -khtml-user-select: none; /* Konqueror HTML */\n  -moz-user-select: none; /* Firefox */\n  -ms-user-select: none; /* Internet Explorer/Edge */\n  user-select: none;\n  margin: 0;\n  padding: 0;\n}\n.TransformComponent-module_content__TZU5O {\n  display: flex;\n  flex-wrap: wrap;\n  width: fit-content;\n  height: fit-content;\n  margin: 0;\n  padding: 0;\n  transform-origin: 0% 0%;\n}\n.TransformComponent-module_content__TZU5O img {\n  pointer-events: none;\n}\n");var Dt=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.wrapperRef=m.a.createRef(),e.contentRef=m.a.createRef(),e}return j(e,t),e.prototype.componentDidMount=function(){var t=this.context.nodes;t.setWrapperComponent(this.wrapperRef.current),t.setContentComponent(this.contentRef.current)},e.prototype.render=function(){var t=this.props.children,e=this.context.state,n=e.positionX,i=e.positionY,o=e.scale,a=e.options,r=a.wrapperClass,s=a.contentClass,l={WebkitTransform:"translate("+n+"px, "+i+"px) scale("+o+")",transform:"translate("+n+"px, "+i+"px) scale("+o+")"};return m.a.createElement("div",{ref:this.wrapperRef,className:"react-transform-component "+kt+" "+r},m.a.createElement("div",{ref:this.contentRef,className:"react-transform-element "+Et+" "+s,style:l},t))},e}(m.a.Component);function Mt(){var t=null,e=null;return"undefined"!=typeof window&&(t=window.innerWidth,e=window.innerHeight),{width:t,height:e,orientation:e>t?"portrait":"landscape"}}Dt.contextType=Yt;e.default=function(t){var e=t.data,n=t.path,o=t.pageContext,r=e.site.pathPrefix;n=s()(C.removeFileExtension,Object(C.removePathPrefix)(r),decodeURI)(n);var l=Object(C.pathToFileTitle)(n),u=function(){var t=Object(f.useState)({width:0,height:0,orientation:"landscape"}),e=t[0],n=t[1];return Object(f.useLayoutEffect)((function(){function t(){n(Mt())}return window.addEventListener("resize",t),n(Mt()),function(){return window.removeEventListener("resize",t)}}),[]),e}(),d=function(t,e){var n=t.width,i=t.height,o=e.width/e.height;return e.width<n&&e.height<i?{maxWidth:n,maxHeight:i}:(e.width-n)/n>(e.height-i)/i?{maxWidth:n,maxHeight:n/o}:{maxWidth:i*o,maxHeight:i}}(u,o),m=o.file.previousUrl,P=o.file.nextUrl,y=o.file.parentUrl,x=[{navigateTo:y,wasPressed:Y("ArrowUp")},{navigateTo:m,wasPressed:Y("ArrowLeft")},{navigateTo:P,wasPressed:Y("ArrowRight")}],X=c()(a()(s()(T.isNotNil,p()("navigateTo")),h()("wasPressed",!0)),x);X&&Object(v.navigate)(X.navigateTo);var O=Object(f.useState)(!1),W=O[0],k=O[1],E=!W,M=D(P,m,y),j=W?{}:M;return Object(b.d)(w.a,{path:n},Object(b.d)("div",Object(i.a)({"data-testid":n},j),Object(b.d)(S,{height:u.height},m?Object(b.d)("div",{className:"photo-navigation previous"},Object(b.d)("div",null,Object(b.d)(v.Link,{to:m},"◄"))):null,Object(b.d)(Wt,{onZoomChange:function(t){1===t.scale?k(!1):k(!0)},pan:{disabled:E},doubleClick:{mode:"reset"}},Object(b.d)(Dt,null,Object(b.d)(g.a,{fixed:e.photo.childImageSharp.fixed,alt:l,title:l,loading:"eager",css:d,draggable:!1}))),y?Object(b.d)("div",{className:"photo-navigation parent"},Object(b.d)("div",null,Object(b.d)(v.Link,{to:y},"⯅"))):null,P?Object(b.d)("div",{className:"photo-navigation next"},Object(b.d)("div",null,Object(b.d)(v.Link,{to:P},"►"))):null)))}},Vj6a:function(t,e){t.exports=function(t){return t&&t["@@transducer/reduced"]?t:{"@@transducer/value":t,"@@transducer/reduced":!0}}},Ymwu:function(t,e,n){var i=n("Wnyi")(n("9gHp")(["find"],n("8qaq"),(function(t,e){for(var n=0,i=e.length;n<i;){if(t(e[n]))return e[n];n+=1}})));t.exports=i},ri17:function(t,e,n){var i=n("Wnyi")((function(t,e){return t&&e}));t.exports=i},xVxh:function(t,e,n){var i=n("DjAY"),o=n("1s4d"),a=i((function(t,e,n){return o(e,n[t])}));t.exports=a}}]);
//# sourceMappingURL=component---node-modules-gatsby-theme-photo-albums-src-templates-photo-js-b9765ed91278768f9d74.js.map